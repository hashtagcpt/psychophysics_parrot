function [fits,fitStd,fitMean]=zDoBootstrap(screc,mu,sigma,reps,type,gamma,delta,threshlev,muBounds);%% function [fits,fitStd,fitMean]=zDoBootstrap(screc,mu,sigma,reps,type,gamma,delta,threshlev,muBounds);%% zDoBootstrap, bootstrap psychometric functions%% requires: subject, pollsubject (from RFM toolbox)%% 6/9/11 -- CPT. Cleaned up for zToolboxdefarg('type', 'norm');defarg('gamma', 0.5);defarg('delta', 0.01);defarg('reps', 999);defarg('threshlev', 0.75);defarg('muBounds',[0 1]);ns=size(screc,2);levels=[];responses=[];for kk=1:ns    levels=[levels;screc(kk).trialdata(:,1)];    responses=[responses;screc(kk).trialdata(:,2)];end;trials = [levels responses];% make subject modelsub = subject( type, [ mu sigma ], gamma, delta );% bootstrapfits=[];for i=1:reps,	correct = pollsubject( sub, levels );	[ p1 p2 ] = zFitPsyMet( [ levels correct ], type );    if p1 > muBounds(1) & p1 < muBounds(2)        thresh = getthresh( threshlev, type, [ p1 p2 ], gamma, delta );        fits = [ fits ; p1 p2 thresh ];        disp(['mu = ',num2str(p1),'; sigma = ',num2str(p2),';','% correct threshold = ',num2str(thresh*100)]);    endendfitStd = std(fits);fitMean = mean(fits);return;